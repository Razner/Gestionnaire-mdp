<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de mot de passe</title>
</head>
<body>
    <h1>Générateur de mot de passe</h1>
    <form id="generer-mdp-form" action="{{ url_for('generate_password') }}" method="POST">
        <label for="longueur">Longueur du mot de passe :</label>
        <input type="number" id="longueur" name="longueur" min="10" max="30" value="10">
        <button type="submit">Générer</button>
    </form>

    <div id="mot-de-passe-generer"></div>

    <script>
        document.getElementById("generer-mdp-form").addEventListener("submit", function(event) {
            event.preventDefault(); 
            
            var longueur = document.getElementById("longueur").value;
            
            fetch("/generatePassword/generate", {
                method: 'POST',
                body: new URLSearchParams({
                    longueur: longueur
                })
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById("mot-de-passe-generer").innerText = "Mot de passe généré : " + data;
            })
            .catch(error => console.error(error));
        });
    </script>
</body>
</html>
